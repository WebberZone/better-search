document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('.search-form, form[role="search"]').forEach((e=>{const n=e.querySelector('input[name="s"]');if(!n)return;const t=document.createElement("div");let o;t.className="bsearch-autocomplete-results",n.parentNode.insertBefore(t,n.nextSibling),n.addEventListener("input",(function(){clearTimeout(o),o=setTimeout((()=>{const e=this.value;e.length>2?function(e,n){fetch(bsearch_live_search.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams({action:"bsearch_live_search",s:e}).toString()}).then((function(e){return e.json()})).then((function(e){!function(e,n){if(n.innerHTML="",e.length>0){n.style.display="block";const t=document.createElement("ul");e.forEach((e=>{const n=document.createElement("li"),o=document.createElement("a");o.href=e.link,o.textContent=e.title,n.appendChild(o),t.appendChild(n)})),n.appendChild(t)}else n.style.display="none"}(e,n)})).catch((function(e){}))}(e,t):(t.innerHTML="",t.style.display="none")}),300)})),document.addEventListener("click",(function(n){e.contains(n.target)||t.contains(n.target)||(t.style.display="none")})),n.addEventListener("focus",(function(){""!==t.innerHTML.trim()&&(t.style.display="block")}))}))}));